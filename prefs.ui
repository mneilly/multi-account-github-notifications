<?xml version="1.0" encoding="UTF-8"?>
<interface>
    <requires lib="gtk" version="4.0"/>
    <template class="PrefsWidget" parent="GtkBox">
        <property name="width-request">800</property>
        <property name="height-request">600</property>
        <child>
            <object class="GtkAdjustment" id="adjustment1">
                <property name="upper">60000</property>
                <property name="step-increment">1</property>
                <property name="page-increment">10</property>
            </object>
            <object class="GtkNotebook">
                <property name="focusable">1</property>
                <property name="halign">fill</property>
                <property name="valign">fill</property>
                <property name="tab-pos">left</property>
                <child>
                    <object class="GtkNotebookPage">
                        <property name="child">
                            <object class="GtkBox">
                                <property name="margin-start">10</property>
                                <property name="margin-end">10</property>
                                <property name="margin-top">10</property>
                                <property name="margin-bottom">10</property>
                                <property name="orientation">vertical</property>
                                <property name="spacing">10</property>
                                <child>
                                    <object class="GtkLabel">
                                        <property name="halign">start</property>
                                        <property name="valign">center</property>
                                        <property name="label" translatable="yes">
This extension adds GitHub notification icons to the Gnome top bar. This extension is based upon the original extension by Alex Dufournet at https://github.com/alexduf/gnome-github-notifications.

This version adds:
- Support for multiple accounts
- Internationalization support
- Use of .ui files for the preferences panel
                                        </property>
                                        <property name="use-markup">1</property>
                                        <property name="wrap">1</property>
                                    </object>
                                </child>

                            </object>
                        </property>
                        <property name="tab">
                            <object class="GtkLabel">
                                <property name="halign">end</property>
                                <property name="label" translatable="yes">About</property>
                            </object>
                        </property>
                    </object>
                </child>
                <child>
                    <object class="GtkNotebookPage">
                        <property name="position">1</property>
                        <property name="child">
                            <object class="GtkBox">
                                <property name="margin-start">10</property>
                                <property name="margin-end">10</property>
                                <property name="margin-top">10</property>
                                <property name="margin-bottom">10</property>
                                <property name="orientation">vertical</property>
                                <property name="spacing">10</property>
                                <child>
                                    <object class="GtkBox" id="accountButtonBox">
                                        <property name="valign">center</property>
                                        <property name="spacing">4</property>
                                        <child>
                                            <object class="GtkButton" id="addAccountButton">
                                                <property name="label" translatable="yes">Add Account</property>
                                                <property name="focusable">1</property>
                                                <property name="receives-default">1</property>
                                            </object>
                                        </child>
                                        <child>
                                            <object class="GtkButton" id="deleteAccountButton">
                                                <property name="label" translatable="yes">Delete Selected</property>
                                                <property name="focusable">1</property>
                                                <property name="receives-default">1</property>
                                            </object>
                                        </child>
                                        <!--
                                        <child>
                                        <placeholder/>
                                        </child>
                                        -->
                                    </object>
                                </child>
                                <child>
                                    <object class="GtkBox" id="accountsBox">
                                        <property name="vexpand">1</property>
                                        <property name="orientation">vertical</property>
                                        <child>
                                            <object class="GtkBox" id="accountsSubBox">
                                                <property name="vexpand">1</property>
                                                <property name="margin-start">10</property>
                                                <property name="margin-end">10</property>
                                                <property name="margin-top">10</property>
                                                <property name="margin-bottom">10</property>
                                                <property name="orientation">vertical</property>
                                                <!--
                                                <child>
                                                    <object class="GtkFrame">
                                                        <child>
                                                            <object class="GtkGrid">
                                                                <property name="margin-start">5</property>
                                                                <property name="margin-end">5</property>
                                                                <property name="margin-top">5</property>
                                                                <property name="margin-bottom">5</property>
                                                                <property name="row-spacing">5</property>
                                                                <property name="column-spacing">5</property>
                                                                <child>
                                                                    <object class="GtkLabel">
                                                                        <property name="halign">end</property>
                                                                        <property name="label" translatable="yes">
                                                                            Color
                                                                        </property>
                                                                        <layout>
                                                                            <property name="column">0</property>
                                                                            <property name="row">5</property>
                                                                        </layout>
                                                                    </object>
                                                                </child>
                                                                <child>
                                                                    <object class="GtkLabel">
                                                                        <property name="halign">end</property>
                                                                        <property name="label" translatable="yes">
                                                                            Command
                                                                        </property>
                                                                        <layout>
                                                                            <property name="column">0</property>
                                                                            <property name="row">4</property>
                                                                        </layout>
                                                                    </object>
                                                                </child>
                                                                <child>
                                                                    <object class="GtkEntry">
                                                                        <property name="focusable">1</property>
                                                                        <layout>
                                                                            <property name="column">1</property>
                                                                            <property name="row">4</property>
                                                                        </layout>
                                                                    </object>
                                                                </child>
                                                                <child>
                                                                    <object class="GtkLabel">
                                                                        <property name="halign">end</property>
                                                                        <property name="label" translatable="yes">
                                                                            Domain
                                                                        </property>
                                                                        <layout>
                                                                            <property name="column">0</property>
                                                                            <property name="row">3</property>
                                                                        </layout>
                                                                    </object>
                                                                </child>
                                                                <child>
                                                                    <object class="GtkEntry">
                                                                        <property name="focusable">1</property>
                                                                        <layout>
                                                                            <property name="column">1</property>
                                                                            <property name="row">3</property>
                                                                        </layout>
                                                                    </object>
                                                                </child>
                                                                <child>
                                                                    <object class="GtkLabel">
                                                                        <property name="halign">end</property>
                                                                        <property name="label" translatable="yes">API
                                                                            Token
                                                                        </property>
                                                                        <layout>
                                                                            <property name="column">0</property>
                                                                            <property name="row">2</property>
                                                                        </layout>
                                                                    </object>
                                                                </child>
                                                                <child>
                                                                    <object class="GtkEntry">
                                                                        <property name="focusable">1</property>
                                                                        <layout>
                                                                            <property name="column">1</property>
                                                                            <property name="row">2</property>
                                                                        </layout>
                                                                    </object>
                                                                </child>
                                                                <child>
                                                                    <object class="GtkLabel">
                                                                        <property name="halign">end</property>
                                                                        <property name="label" translatable="yes">
                                                                            Login
                                                                        </property>
                                                                        <layout>
                                                                            <property name="column">0</property>
                                                                            <property name="row">1</property>
                                                                        </layout>
                                                                    </object>
                                                                </child>
                                                                <child>
                                                                    <object class="GtkEntry">
                                                                        <property name="focusable">1</property>
                                                                        <property name="hexpand">1</property>
                                                                        <layout>
                                                                            <property name="column">1</property>
                                                                            <property name="row">1</property>
                                                                        </layout>
                                                                    </object>
                                                                </child>
                                                                <child>
                                                                    <object class="GtkCheckButton">
                                                                        <property name="label" translatable="yes">
                                                                            Delete
                                                                        </property>
                                                                        <property name="focusable">1</property>
                                                                        <property name="halign">end</property>
                                                                        <layout>
                                                                            <property name="column">0</property>
                                                                            <property name="row">0</property>
                                                                        </layout>
                                                                    </object>
                                                                </child>
                                                                <child>
                                                                    <object class="GtkColorButton">
                                                                        <property name="focusable">1</property>
                                                                        <property name="receives-default">1</property>
                                                                        <layout>
                                                                            <property name="column">1</property>
                                                                            <property name="row">5</property>
                                                                        </layout>
                                                                    </object>
                                                                </child>
                                                            </object>
                                                        </child>
                                                        <child type="label">
                                                            <object class="GtkLabel">
                                                                <property name="margin-start">5</property>
                                                                <property name="margin-end">5</property>
                                                                <property name="label" translatable="yes">Account 0
                                                                </property>
                                                            </object>
                                                        </child>
                                                    </object>
                                                </child>
                                                -->
                                            </object>
                                        </child>
                                    </object>
                                </child>
                            </object>
                        </property>
                        <property name="tab">
                            <object class="GtkLabel">
                                <property name="label" translatable="yes">Accounts</property>
                            </object>
                        </property>
                    </object>
                </child>
                <child>
                    <object class="GtkNotebookPage">
                        <property name="position">2</property>
                        <property name="child">
                            <object class="GtkGrid">
                                <property name="halign">center</property>
                                <property name="valign">center</property>
                                <property name="row-spacing">10</property>
                                <property name="column-spacing">10</property>
                                <child>
                                    <object class="GtkSwitch" id="hideIfNone">
                                        <property name="focusable">1</property>
                                        <property name="halign">start</property>
                                        <property name="valign">start</property>
                                        <layout>
                                            <property name="column">0</property>
                                            <property name="row">0</property>
                                        </layout>
                                    </object>
                                </child>
                                <child>
                                    <object class="GtkLabel">
                                        <property name="halign">start</property>
                                        <property name="hexpand">1</property>
                                        <property name="label" translatable="yes">Hide widget when there are no
                                            notifications
                                        </property>
                                        <layout>
                                            <property name="column">1</property>
                                            <property name="row">0</property>
                                        </layout>
                                    </object>
                                </child>
                                <child>
                                    <object class="GtkSwitch" id="hideCount">
                                        <property name="focusable">1</property>
                                        <property name="halign">start</property>
                                        <property name="valign">start</property>
                                        <layout>
                                            <property name="column">0</property>
                                            <property name="row">1</property>
                                        </layout>
                                    </object>
                                </child>
                                <child>
                                    <object class="GtkSwitch" id="participatingOnly">
                                        <property name="focusable">1</property>
                                        <property name="halign">start</property>
                                        <property name="valign">start</property>
                                        <layout>
                                            <property name="column">0</property>
                                            <property name="row">2</property>
                                        </layout>
                                    </object>
                                </child>
                                <child>
                                    <object class="GtkSwitch" id="showAlert">
                                        <property name="focusable">1</property>
                                        <property name="halign">start</property>
                                        <property name="valign">start</property>
                                        <layout>
                                            <property name="column">0</property>
                                            <property name="row">3</property>
                                        </layout>
                                    </object>
                                </child>
                                <child>
                                    <object class="GtkLabel">
                                        <property name="halign">start</property>
                                        <property name="hexpand">1</property>
                                        <property name="label" translatable="yes">Hide notification count</property>
                                        <layout>
                                            <property name="column">1</property>
                                            <property name="row">1</property>
                                        </layout>
                                    </object>
                                </child>
                                <child>
                                    <object class="GtkLabel">
                                        <property name="halign">start</property>
                                        <property name="hexpand">1</property>
                                        <property name="label" translatable="yes">Participating only</property>
                                        <layout>
                                            <property name="column">1</property>
                                            <property name="row">2</property>
                                        </layout>
                                    </object>
                                </child>
                                <child>
                                    <object class="GtkLabel">
                                        <property name="halign">start</property>
                                        <property name="hexpand">1</property>
                                        <property name="label" translatable="yes">Show alert for notifications
                                        </property>
                                        <layout>
                                            <property name="column">1</property>
                                            <property name="row">3</property>
                                        </layout>
                                    </object>
                                </child>
                                <child>
                                    <object class="GtkSpinButton">
                                        <property name="focusable">1</property>
                                        <!--<property name="input-purpose">number</property>-->
                                        <property name="orientation">vertical</property>
                                        <property name="adjustment">adjustment1</property>
                                        <property name="numeric">1</property>
                                        <property name="update-policy">if-valid</property>
                                        <property name="value">60</property>
                                        <layout>
                                            <property name="column">0</property>
                                            <property name="row">4</property>
                                        </layout>
                                    </object>
                                </child>
                                <child>
                                    <object class="GtkLabel">
                                        <property name="halign">start</property>
                                        <property name="hexpand">1</property>
                                        <property name="label" translatable="yes">Update interval</property>
                                        <layout>
                                            <property name="column">1</property>
                                            <property name="row">4</property>
                                        </layout>
                                    </object>
                                </child>
                                <child>
                                    <object class="GtkLabel">
                                        <property name="visible">True</property>
                                        <property name="can-focus">False</property>
                                        <property name="halign">start</property>
                                        <property name="hexpand">True</property>
                                        <property name="label" translatable="yes">Message Filter</property>
                                        <layout>
                                            <property name="column">0</property>
                                            <property name="row">5</property>
                                        </layout>
                                    </object>
                                </child>
                                <!--
                                <child>
                                <object class="GtkPopoverMenu" id="menu1">
                                    <property name="visible">True</property>
                                    <property name="can-focus">False</property>
                                    <property name="hexpand">True</property>
                                    <child>
                                        <object class="GtkMenuItem">
                                            <property name="visible">True</property>
                                            <property name="can-focus">False</property>
                                            <property name="label" translatable="yes">None</property>
                                            <property name="use-underline">True</property>
                                        </object>
                                    </child>
                                    <child>
                                        <object class="GtkMenuItem">
                                            <property name="visible">True</property>
                                            <property name="can-focus">False</property>
                                            <property name="label" translatable="yes">Participating</property>
                                            <property name="use-underline">True</property>
                                        </object>
                                    </child>
                                    <child>
                                        <object class="GtkMenuItem">
                                            <property name="visible">True</property>
                                            <property name="can-focus">False</property>
                                            <property name="label" translatable="yes">Assigned</property>
                                            <property name="use-underline">True</property>
                                        </object>
                                    </child>
                                    <child>
                                        <object class="GtkMenuItem">
                                            <property name="visible">True</property>
                                            <property name="can-focus">False</property>
                                            <property name="label" translatable="yes">Mentioned</property>
                                            <property name="use-underline">True</property>
                                        </object>
                                    </child>
                                    <child>
                                        <object class="GtkMenuItem">
                                            <property name="visible">True</property>
                                            <property name="can-focus">False</property>
                                            <property name="label" translatable="yes">Team Mentioned</property>
                                            <property name="use-underline">True</property>
                                        </object>
                                    </child>
                                    <child>
                                        <object class="GtkMenuItem">
                                            <property name="visible">True</property>
                                            <property name="can-focus">False</property>
                                            <property name="label" translatable="yes">Review Requested</property>
                                            <property name="use-underline">True</property>
                                        </object>
                                    </child>
                                </object>
                                </child>
                                <child>
                                    <object class="GtkMenuButton" id="messageFilter">
                                        <property name="visible">True</property>
                                        <property name="can-focus">True</property>
                                        <property name="focus-on-click">False</property>
                                        <property name="receives-default">True</property>
                                        <property name="popup">menu1</property>
                                        <layout>
                                            <property name="column">1</property>
                                            <property name="row">5</property>
                                        </layout>
                                    </object>
                                </child>
                                -->
                            </object>
                        </property>
                        <property name="tab">
                            <object class="GtkLabel">
                                <property name="label" translatable="yes">Options</property>
                            </object>
                        </property>
                    </object>
                </child>
                <child>
                    <object class="GtkNotebookPage">
                        <property name="position">3</property>
                        <property name="child">
                            <object class="GtkBox">
                                <property name="margin-start">10</property>
                                <property name="margin-end">10</property>
                                <property name="margin-top">10</property>
                                <property name="margin-bottom">10</property>
                                <property name="orientation">vertical</property>
                                <child>
                                    <object class="GtkGrid">
                                        <property name="row-spacing">10</property>
                                        <child>
                                            <object class="GtkFrame">
                                                <!--<property name="shadow-type">in</property>-->
                                                <child>
                                                    <object class="GtkLabel">
                                                        <property name="halign">start</property>
                                                        <property name="valign">center</property>
                                                        <property name="label" translatable="yes">
Click the "Add Account" button to create a new account.

The "Login" field should be filled in with your Github user name.

To enable the extension to access your Github notifications, you will need to create a Personal Access Token.

See: &lt;a href=&quot;https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token&quot;&gt;Creating a personal access token&lt;/a&gt;

Be sure to select the "notifications" scope in step 8. Paste your token into the "API Token" field.

The "Domain" field can normally be left as github.com unless your company has an enterprise account in which case you should talk to your company administrator.

Each account can have a command associated with it. If you only have a single account you can leave command empty and the extension will launch the default browser when selecting notifications in the menu.

If you have multiple accounts, the extension needs to be told how to open links for each account.

For example, if you are using Google Chrome and have both work and a personal GH accounts, you may want to set the commands to open a difference chrome profile for each github account. E.g. - &lt;i&gt;google-chrome --profile-directory=Default&lt;/i&gt; and &lt;i&gt;google-chrome --profile-directory='Profile 1'&lt;/i&gt;.

In Firefox, you might setup profiles using about:profile then launch a specific profile with &lt;i&gt;firefox -P default&lt;/i&gt;.

If you have multiple accounts, you may want to choose a color for each account. This will put a 2 pixel color bar above each Github icon as a way to identify which icon belongs to which account.
                                                        </property>
                                                        <property name="use-markup">1</property>
                                                        <property name="wrap">1</property>
                                                    </object>
                                                </child>
                                                <child type="label">
                                                    <object class="GtkLabel">
                                                        <!--<property name="xpad">10</property>-->
                                                        <!--<property name="ypad">5</property>-->
                                                        <property name="label" translatable="yes">Accounts</property>
                                                    </object>
                                                </child>
                                                <layout>
                                                    <property name="column">0</property>
                                                    <property name="row">0</property>
                                                </layout>
                                            </object>
                                        </child>
                                        <child>
                                            <object class="GtkFrame">
                                                <!--<property name="shadow-type">in</property>-->
                                                <child>
                                                    <object class="GtkLabel">
                                                        <property name="halign">start</property>
                                                        <property name="valign">center</property>
                                                        <!--<property name="xpad">10</property>-->
                                                        <property name="label" translatable="yes">

                                                        </property>
                                                        <property name="use-markup">1</property>
                                                        <property name="wrap">1</property>
                                                    </object>
                                                </child>
                                                <child type="label">
                                                    <object class="GtkLabel">
                                                        <!--<property name="xpad">10</property>-->
                                                        <!--<property name="ypad">5</property>-->
                                                        <property name="label" translatable="yes">Options</property>
                                                    </object>
                                                </child>
                                                <layout>
                                                    <property name="column">0</property>
                                                    <property name="row">1</property>
                                                </layout>
                                            </object>
                                        </child>
                                        <!--
                                        <child>
                                        <placeholder/>
                                        </child>
                                        -->
                                    </object>
                                </child>
                            </object>
                        </property>
                        <property name="tab">
                            <object class="GtkLabel">
                                <property name="halign">end</property>
                                <property name="label" translatable="yes">Help</property>
                            </object>
                        </property>
                    </object>
                </child>
            </object>
        </child>
    </template>
</interface>
